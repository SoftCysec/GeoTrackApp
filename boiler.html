<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.1/leaflet.css">
    <script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.1/leaflet.js"></script>
    <title>Document</title>
    <style>
        #gis {
            width: 80%;
            height: 60%;
        }
    </style>
    <script src="leaflet/dist/leaflet.ajax.js"></script>
    <script>
        function MyLater(map, options) {
            let incidences = L.geoJson(null, {
                pointToLayer: function(feature, latlng) {
                    return L.maker(latlng, {
                        icon: L.icon({
                            iconUrl: 'static/leaflet/images/marker-icon-2x.png',
                            iconSize: [28, 32],
                            iconAnchor: [12, 28],
                            pipupAnchor: [0, -25]
                        }),
                        title: feature.properties.title,
                        riseOnHover: true
                    });
                },
            }).addTo(map);
            let incidencesUrl = 'incidences';
            $.getJSON(incidencesUrl, function(data) {
                incidences.addTo(data);
            });
        }
    </script>
    <div id="gis"></div>
</head>

<body>

</body>

</html>